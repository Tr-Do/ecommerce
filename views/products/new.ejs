<% layout('layouts/boilerplate') %>
    <div class="row">
        <h1 class="text-center">New Design</h1>
        <div class="col-6 offset-3">
            <form action="/products" method="POST" novalidate class="validated-form" enctype="multipart/form-data">
                <div class="mb-3">
                    <label class="form-label" for="name">Name</label>
                    <input class="form-control" type="text" id="name" name="product[name]" required>
                    <div class="valid-feedback">Looks good!</div>
                </div>
                <div class="input-group mb-3">
                    <label class="form-label" for="price">Price</label>
                    <div class="input-group">
                        <span class="input-group-text">$</span>
                        <input type="text" id="price" name="product[price]" class="form-control" placeholder="0.00"
                            required>
                        <div class="valid-feedback">Looks good!</div>
                    </div>
                </div>
                <div id="imgGrid">
                    <div class="row">
                        <div class="d-flex flex-wrap border" id="imgTile">
                            <div id="addImg"
                                class="smdiv mt-2 ms-2 border border-dark mb-2 d-flex justify-content-center align-items-center">
                                <i class="bi bi-plus-square-dotted fs-1"></i>
                            </div>
                            <input type="file" id="imagePicker" name="image" accept="image/*" class="d-none" multiple>
                        </div>
                        <input type="hidden" name="product[imageOrder]" id="imageOrder">
                    </div>
                </div>
                <div class="mt-3 mb-3 d-flex align-items-center gap-3">
                    <label for="size" class="form-label d-block">Size:</label>
                    <div class="form-check">
                        <input class="form-check-input size-check" type="checkbox" name="product[size][]"
                            data-target="uploadS" value="S" id="size-s">
                        <label for="size-s">S</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input size-check" type="checkbox" name="product[size][]"
                            data-target="uploadM" value="M" id="size-m">
                        <label for="size-m">M</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input size-check" type="checkbox" name="product[size][]"
                            data-target="uploadL" value="L" id="size-l">
                        <label for="size-l">L</label>
                    </div>
                    <div class="form-check">
                        <input class="form-check-input size-check" type="checkbox" name="product[size][]"
                            data-target="uploadXL" value="XL" id="size-xl">
                        <label for="size-xl">XL</label>
                    </div>
                </div>

                <div id="upload">
                    <label for="file" class="form-label">Upload files:</label>
                    <input class="form-control" type="file" name="designFile" id="standard" multiple>
                    <ul class="file-list mt-3" id="file"></ul>
                </div>
                <div id="uploadS" class="d-none mb-2">
                    <label for="file" class="form-label">Upload S files:</label>
                    <input class="form-control fileUpload" type="file" name="designFile" data-size="S" multiple>
                    <ul class="file-list mt-3" id="file-S"></ul>
                </div>
                <div id="uploadM" class="d-none mb-2">
                    <label for="file" class="form-label">Upload M files:</label>
                    <input class="form-control fileUpload" type="file" name="designFile" data-size="M" multiple>
                    <ul class="file-list mt-3" id="file-M"></ul>
                </div>
                <div id="uploadL" class="d-none mb-2">
                    <label for="file" class="form-label">Upload L files:</label>
                    <input class="form-control fileUpload" type="file" name="designFile" data-size="L" multiple>
                    <ul class="file-list mt-3" id="file-L"></ul>
                </div>
                <div id="uploadXL" class="d-none mb-2">
                    <label for="file" class="form-label">Upload XL files:</label>
                    <input class="form-control fileUpload" type="file" name="designFile" data-size="XL" multiple>
                    <ul class="file-list mt-3" id="file-XL"></ul>
                </div>

                <div class="mb-3 mt-5">
                    <label for="description" class="form-label">Description</label>
                    <textarea class="form-control" style="height:300px;" name="product[description]" id="description"
                        required>Create your own beautiful stained glass terrarium with this detailed digital pattern designed for hobbyists and professional glass artists. Perfect for DIY stained glass projects.
        Product Details:
        - Instant digital download (no physical product shipped)
        - Includes 1 PDF blueprint with detailed measurements
        - Includes ZIP file with high-quality JPG images
        Size Information:
        Check the product title to verify if multiple sizes (S, M, L, XL) are available. If no size is indicated, the pattern is provided in one standard dimension.
        Important Notes:
        - This purchase includes a pattern only; no materials or assembly instructions provided.
        - Angle measurements are not included. A protractor or CAD software can be used to measure the angle
        - Ensure you have the appropriate skills to assemble stained glass terrariums. We recommend beginning construction from the bottom for optimal results.
        Delivery:
        The digital files will automatically be sent to your email after checkout. Please confirm your email address is correct when purchasing.
    </textarea>
                </div>
                <div class="valid-feedback">Looks good!</div>
                <div class="d-flex justify-content-center">
                    <button class="btn btn-success mb-3">Add Product</button>
                </div>
            </form>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/sortablejs@1.15.2/Sortable.min.js"></script>
    <script src="/js/addAndDrag.js"></script>\
    <script src="/js/uploadToggle.js"></script>